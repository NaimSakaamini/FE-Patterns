
> feature-app-backend@1.0.0 dev
> nodemon server.js

[33m[nodemon] 2.0.22[39m
[33m[nodemon] to restart at any time, enter `rs`[39m
[33m[nodemon] watching path(s): *.*[39m
[33m[nodemon] watching extensions: js,mjs,json[39m
[32m[nodemon] starting `node server.js`[39m
{"level":"WARN","timestamp":"2025-03-08T13:29:21.791Z","logger":"kafkajs","message":"KafkaJS v2.0.0 switched default partitioner. To retain the same partitioning behavior as in previous versions, create the producer with the option \"createPartitioner: Partitioners.LegacyPartitioner\". See the migration guide at https://kafka.js.org/docs/migration-guide-v2.0.0#producer-new-default-partitioner for details. Silence this warning by setting the environment variable \"KAFKAJS_NO_PARTITIONER_WARNING=1\""}
Feature App server running on http://localhost:4001
Kafka consumer and producer connected
Database connected successfully at: 2025-03-08T13:29:21.828Z
{"level":"INFO","timestamp":"2025-03-08T13:29:21.832Z","logger":"kafkajs","message":"[Consumer] Starting","groupId":"feature-app-group"}
{"level":"INFO","timestamp":"2025-03-08T13:29:24.640Z","logger":"kafkajs","message":"[ConsumerGroup] Consumer has joined the group","groupId":"feature-app-group","memberId":"feature-app-bc6d0135-7964-49ed-9605-c5ec7737b3e5","leaderId":"feature-app-bc6d0135-7964-49ed-9605-c5ec7737b3e5","isLeader":true,"memberAssignment":{"session-events":[0],"todo-events":[0]},"groupProtocol":"RoundRobinAssigner","duration":2808}
Subscribed to topics
Received message from topic todo-events: {
  type: 'TODO_CREATED',
  todo: {
    id: 5,
    user_id: 1,
    title: 'bbb',
    completed: false,
    created_at: '2025-03-08T13:29:30.027Z'
  },
  userId: 1,
  timestamp: '2025-03-08T13:29:30.033Z'
}
Todo event: TODO_CREATED
ðŸ“¢ [Feature App Backend] Returning mock session for user1
ðŸ“¢ [Feature App Backend] Returning mock session for user1
{"level":"ERROR","timestamp":"2025-03-08T13:30:02.817Z","logger":"kafkajs","message":"[Connection] Response Metadata(key: 3, version: 6)","broker":"localhost:9092","clientId":"feature-app","error":"There is no leader for this topic-partition as we are in the middle of a leadership election","correlationId":1,"size":89}
Message sent to topic category-events
ðŸ“¢ [Feature App Backend] Returning mock session for user1
ðŸ“¢ [Feature App Backend] Returning mock session for user1
ðŸ“¢ [Feature App Backend] Returning mock session for user1
ðŸ“¢ [Feature App Backend] Returning mock session for user1
Received message from topic session-events: {
  type: 'LOGOUT',
  userId: 1,
  username: 'user1',
  timestamp: '2025-03-08T13:31:18.146Z'
}
User user1 logged out
Received message from topic session-events: {
  type: 'LOGIN',
  userId: 1,
  username: 'user1',
  timestamp: '2025-03-08T13:31:29.885Z'
}
User user1 logged in
ðŸ“¢ [Feature App Backend] Returning mock session for user1
ðŸ“¢ [Feature App Backend] Returning mock session for user1
{"level":"INFO","timestamp":"2025-03-08T14:39:32.868Z","logger":"kafkajs","message":"[Runner] consumer not running, exiting","groupId":"feature-app-group","memberId":"feature-app-bc6d0135-7964-49ed-9605-c5ec7737b3e5"}
{"level":"INFO","timestamp":"2025-03-08T14:39:32.894Z","logger":"kafkajs","message":"[Consumer] Stopped","groupId":"feature-app-group"}
Kafka consumer and producer disconnected
Kafka consumer and producer disconnected
Kafka consumer and producer disconnected
Kafka consumer and producer disconnected
